{{ define "main" }}
{{ $homepage := .Site.Data.homepage }}

<!-- Hero Section -->
<section class="hero">
  <div class="container">
    <div class="hero-content">
      <div class="hero-text">
        <h1>{{ $homepage.hero.heading }}</h1>
        <p>{{ $homepage.hero.subheading }}</p>
        <div class="hero-buttons">
          <a href="{{ $homepage.hero.cta_primary_link }}" class="btn btn-primary btn-lg">
            {{ $homepage.hero.cta_primary }}
          </a>
          <a href="#video" class="btn btn-outline btn-lg">
            <i class="fas fa-play"></i> {{ $homepage.hero.cta_secondary }}
          </a>
        </div>
      </div>
      <div class="hero-image">
        <img src="/images/hero-illustration.svg" alt="UPSC Preparation" />
        <div class="floating-card top-right">
          <div class="floating-card-icon">
            <i class="fas fa-users"></i>
          </div>
          <h4>Trusted by</h4>
          <div class="stat">1M+</div>
          <p class="floating-card-subtitle">Students across India</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Stats Bar -->
<section class="stats-bar">
  <div class="container">
    <div class="stats-grid">
      {{ range $homepage.stats }}
      <div class="stat-item">
        <h3>{{ .number }}</h3>
        <p>{{ .label }}</p>
      </div>
      {{ end }}
    </div>
  </div>
</section>

<!-- Why Choose Section (New) -->
{{ with $homepage.why_choose }}
<section class="why-choose-section">
  <div class="container">
    <div class="section-header center">
      <h2>{{ .title }}</h2>
    </div>
    <div class="why-choose-grid">
      {{ range .items }}
      <div class="why-choose-card">
        <div class="why-icon">
          <i class="fas fa-{{ .icon }}"></i>
        </div>
        <h3>{{ .title }}</h3>
        <p>{{ .description }}</p>
      </div>
      {{ end }}
    </div>
  </div>
</section>
{{ end }}

<!-- Features Section -->
<section class="features">
  <div class="container">
    <div class="section-header center">
      <h2>{{ $homepage.features.title }}</h2>
      {{ with $homepage.features.subtitle }}
      <p class="section-subtitle">{{ . }}</p>
      {{ end }}
    </div>
    <div class="features-grid enhanced">
      {{ range $homepage.features.items }}
      <div class="feature-card enhanced">
        <div class="feature-icon {{ .icon_color }}">
          {{ if eq .icon_color "blue" }}
          <i class="fas fa-user-tie"></i>
          {{ else if eq .icon_color "orange" }}
          <i class="fas fa-brain"></i>
          {{ else }}
          <i class="fas fa-globe"></i>
          {{ end }}
        </div>
        <h3>{{ .title }}</h3>
        <p>{{ .description }}</p>
        <div class="feature-badge">
          <i class="fas fa-check-circle"></i> Proven System
        </div>
      </div>
      {{ end }}
    </div>
  </div>
</section>

<!-- Premium Courses Section -->
<section class="courses">
  <div class="container">
    <div class="section-title-row">
      <h2>Premium Courses</h2>
      <a href="/courses/" class="view-all-link">
        View All Courses <i class="fas fa-arrow-right"></i>
      </a>
    </div>
    <div class="courses-grid">
      {{ range first 6 (where .Site.RegularPages "Section" "courses") }}
      <div class="course-card">
        {{ with .Params.thumbnail }}
        <img src="{{ . }}" alt="{{ $.Title }}" class="course-thumbnail" />
        {{ else }}
        <div class="course-thumbnail" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);"></div>
        {{ end }}
        <div class="course-content">
          <span class="course-category">{{ .Params.category }}</span>
          <h3>{{ .Title }}</h3>
          <p>{{ .Params.description }}</p>
          <div class="course-footer">
            <div class="course-price">
              â‚¹{{ .Params.price }}
              {{ with .Params.duration }}<span> / {{ . }}</span>{{ end }}
            </div>
            <a href="{{ .Permalink }}" class="btn btn-primary btn-sm btn-enroll">Enroll</a>
          </div>
        </div>
      </div>
      {{ end }}
    </div>
  </div>
</section>

<!-- Testimonials Section (Hall of Fame) -->
<section class="testimonials">
  <div class="container">
    <div class="section-header">
      <h2>Hall of Fame</h2>
      <p>Success stories from our students who achieved their dream of becoming civil servants</p>
    </div>
    <div class="testimonials-grid">
      {{ range first 3 (where .Site.RegularPages "Section" "testimonials") }}
      <div class="testimonial-card">
        <div class="testimonial-header">
          {{ with .Params.photo }}
          <img src="{{ . }}" alt="{{ $.Params.student_name }}" class="testimonial-photo" />
          {{ end }}
          <div class="testimonial-info">
            <h4>{{ .Params.student_name }}</h4>
            {{ with .Params.rank_achieved }}
            <p class="testimonial-rank">{{ . }}</p>
            {{ end }}
          </div>
        </div>
        <div class="testimonial-rating">
          {{ range seq .Params.rating }}
          <i class="fas fa-star"></i>
          {{ end }}
        </div>
        <p class="testimonial-text">"{{ .Params.review_text }}"</p>
      </div>
      {{ end }}
    </div>
  </div>
</section>

<!-- Success Metrics Section (New) -->
{{ with $homepage.success_metrics }}
<section class="success-metrics">
  <div class="container">
    <div class="section-header center">
      <h2>{{ .title }}</h2>
    </div>
    <div class="metrics-grid">
      {{ range .items }}
      <div class="metric-card">
        <div class="metric-number">{{ .number }}</div>
        <div class="metric-label">{{ .label }}</div>
        <div class="metric-sublabel">{{ .sublabel }}</div>
      </div>
      {{ end }}
    </div>
  </div>
</section>
{{ end }}

<!-- Call to Action Section -->
<section class="cta-section enhanced">
  <div class="cta-content container">
    <div class="cta-badge">
      <i class="fas fa-fire"></i> Limited Time Offer - 40% Off
    </div>
    <h2>{{ $homepage.cta_section.heading }}</h2>
    <p>{{ $homepage.cta_section.subheading }}</p>
    <div class="cta-buttons">
      <a href="/courses/" class="btn btn-white btn-lg">
        <i class="fas fa-rocket"></i> {{ $homepage.cta_section.button_text }}
      </a>
      <a href="/about/" class="btn btn-outline-white btn-lg">
        <i class="fas fa-info-circle"></i> Learn More
      </a>
    </div>
    <div class="cta-trust">
      <div class="trust-item">
        <i class="fas fa-shield-alt"></i>
        <span>100% Money Back Guarantee</span>
      </div>
      <div class="trust-item">
        <i class="fas fa-star"></i>
        <span>4.9/5 Average Rating</span>
      </div>
      <div class="trust-item">
        <i class="fas fa-users"></i>
        <span>50,000+ Happy Students</span>
      </div>
    </div>
  </div>
</section>

{{ end }}
